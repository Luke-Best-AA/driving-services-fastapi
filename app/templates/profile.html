{% extends "base.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}
    <section id="pagination-section">
        <div class="pagination-buttons" style="margin-bottom: 20px;">
            <button id="view-details-btn" type="button" class="active">View My Details</button>
            <button id="change-details-btn" type="button">Change My Details</button>
        </div>
    </section>
    <section id="user-section">
        <div id="profile-detail">
            <div>
                <h2>
                    My User Profile
                </h2>
            </div>
            <div id="user-profile" style="display: none;">

            </div>
            <div id="user-inputs" style="display: none;">
                <form id="user-input-form" method="post">
                    <div class="input-group">
                        <input type="hidden" id="user-id" name="user_id" value="">
                        <label for="username" class="input-label">Username</label>
                        <input type="text" id="username" name="username" value="">
                        <label for="password" class="input-label">Password</label>
                        <button id="change-password-btn" type="button">Change Password</button>
                        <label for="email" class="input-label">Email</label>
                        <input type="email" id="email" name="email" value="">
                        <label for="role-display" class="input-label">Role</label>
                        <input type="text" id="role-display" value="" readonly tabindex="-1">
                        <input type="hidden" id="role" name="role" value="">
                        <button id="update-profile-confirm-btn" class="update-profile-btn">Update Profile</button>
                    </div>
                </form>
                <form id="update-password-form" method="post" style="display: none;">
                    <div class="input-group">
                        <label for="current-password" class="input-label">Current Password</label>
                        <input type="password" id="current-password" name="current_password" required>
                        <label for="new-password" class="input-label">New Password</label>
                        <input type="password" id="new-password" name="new_password" required>
                        <label for="confirm-password" class="input-label">Confirm New Password</label>
                        <input type="password" id="confirm-password" name="confirm_password" required>
                        <button id="cancel-password-btn" class="update-profile-btn" type="button">Cancel</button>
                        <button id="update-password-btn" class="update-profile-btn">Update Password</button>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <span id="user-profile-detail">
        <div>
            <h3>Username: [username]</h3>
            <p>Email: [email]</p>
            <p>Role: [role]</p>
        </div>
    </span>

{% endblock %}

{% block scripts %}
    <script src="{{ url_for('static', path='js/profile.js') }}"></script>
{% endblock %}

{% block styles %}
    <link rel="stylesheet" href="{{ url_for('static', path='css/profile.css') }}">
{% endblock %}